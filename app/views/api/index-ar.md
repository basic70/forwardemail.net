# واجهة برمجة تطبيقات البريد الإلكتروني {#email-api}

## جدول المحتويات {#table-of-contents}

* [المكتبات](#libraries)
* [عنوان URI الأساسي](#base-uri)
* [المصادقة](#authentication)
* [الأخطاء](#errors)
* [التوطين](#localization)
* [الترقيم الصفحي](#pagination)
* [السجلات](#logs)
  * [استرجاع السجلات](#retrieve-logs)
* [حساب](#account)
  * [إنشاء حساب](#create-account)
  * [استرداد الحساب](#retrieve-account)
  * [تحديث الحساب](#update-account)
* [جهات اتصال مستعارة (CardDAV)](#alias-contacts-carddav)
  * [قائمة جهات الاتصال](#list-contacts)
  * [إنشاء جهة اتصال](#create-contact)
  * [استرجاع جهة الاتصال](#retrieve-contact)
  * [تحديث جهة الاتصال](#update-contact)
  * [حذف جهة الاتصال](#delete-contact)
* [تقويمات الأسماء المستعارة (CalDAV)](#alias-calendars-caldav)
  * [قائمة التقويمات](#list-calendars)
  * [إنشاء التقويم](#create-calendar)
  * [استرجاع التقويم](#retrieve-calendar)
  * [تحديث التقويم](#update-calendar)
  * [حذف التقويم](#delete-calendar)
* [رسائل الاسم المستعار (IMAP/POP3)](#alias-messages-imappop3)
  * [قائمة الرسائل والبحث عنها](#list-and-search-for-messages)
  * [إنشاء رسالة](#create-message)
  * [استرجاع الرسالة](#retrieve-message)
  * [تحديث الرسالة](#update-message)
  * [حذف الرسالة](#delete-message)
* [مجلدات الأسماء المستعارة (IMAP/POP3)](#alias-folders-imappop3)
  * [قائمة المجلدات](#list-folders)
  * [إنشاء مجلد](#create-folder)
  * [استرجاع المجلد](#retrieve-folder)
  * [تحديث المجلد](#update-folder)
  * [حذف المجلد](#delete-folder)
  * [نسخ المجلد](#copy-folder)
* [رسائل البريد الإلكتروني الصادرة](#outbound-emails)
  * [الحصول على حد البريد الإلكتروني الصادر SMTP](#get-outbound-smtp-email-limit)
  * [قائمة رسائل البريد الإلكتروني الصادرة SMTP](#list-outbound-smtp-emails)
  * [إنشاء بريد إلكتروني SMTP صادر](#create-outbound-smtp-email)
  * [استرداد البريد الإلكتروني الصادر SMTP](#retrieve-outbound-smtp-email)
  * [حذف البريد الإلكتروني الصادر SMTP](#delete-outbound-smtp-email)
* [المجالات](#domains)
  * [قائمة المجالات](#list-domains)
  * [إنشاء المجال](#create-domain)
  * [استرجاع المجال](#retrieve-domain)
  * [التحقق من سجلات المجال](#verify-domain-records)
  * [التحقق من سجلات SMTP للمجال](#verify-domain-smtp-records)
  * [قائمة كلمات المرور الشاملة على مستوى المجال](#list-domain-wide-catch-all-passwords)
  * [إنشاء كلمة مرور شاملة على مستوى المجال](#create-domain-wide-catch-all-password)
  * [إزالة كلمة المرور الشاملة على مستوى المجال](#remove-domain-wide-catch-all-password)
  * [تحديث المجال](#update-domain)
  * [حذف المجال](#delete-domain)
* [دعوات](#invites)
  * [قبول دعوة النطاق](#accept-domain-invite)
  * [إنشاء دعوة للمجال](#create-domain-invite)
  * [إزالة دعوة النطاق](#remove-domain-invite)
* [أعضاء](#members)
  * [تحديث عضو المجال](#update-domain-member)
  * [إزالة عضو المجال](#remove-domain-member)
* [أسماء مستعارة](#aliases)
  * [إنشاء كلمة مرور مستعارة](#generate-an-alias-password)
  * [قائمة أسماء النطاقات المستعارة](#list-domain-aliases)
  * [إنشاء اسم نطاق مستعار جديد](#create-new-domain-alias)
  * [استرداد اسم النطاق المستعار](#retrieve-domain-alias)
  * [تحديث اسم النطاق المستعار](#update-domain-alias)
  * [حذف اسم النطاق المستعار](#delete-domain-alias)
* [تشفير](#encrypt)
  * [تشفير سجل TXT](#encrypt-txt-record)

## مكتبات {#libraries}

لم نُصدر حتى الآن أي غلافات لواجهات برمجة التطبيقات (API)، ولكننا نخطط لذلك قريبًا. أرسل بريدًا إلكترونيًا إلى <api@forwardemail.net> إذا كنت ترغب في تلقي إشعار عند إصدار غلاف واجهة برمجة تطبيقات خاص بلغة برمجة معينة. في هذه الأثناء، يمكنك استخدام مكتبات طلبات HTTP الموصى بها في تطبيقك، أو ببساطة استخدام [حليقة](https://stackoverflow.com/a/27442239/3586413) كما في الأمثلة أدناه.

| لغة | مكتبة |
| ---------- | ---------------------------------------------------------------------- |
| روبي | [Faraday](https://github.com/lostisland/faraday) |
| بايثون | [requests](https://github.com/psf/requests) |
| جافا | [OkHttp](https://github.com/square/okhttp/) |
| PHP | [guzzle](https://github.com/guzzle/guzzle) |
| جافا سكريبت | [superagent](https://github.com/ladjs/superagent) (نحن المشرفون) |
| Node.js | [superagent](https://github.com/ladjs/superagent) (نحن المشرفون) |
| يذهب | [net/http](https://golang.org/pkg/net/http/) |
| .NET | [RestSharp](https://github.com/restsharp/RestSharp) |

## عنوان URI الأساسي {#base-uri}

مسار URI الأساسي HTTP الحالي هو: `BASE_URI`.

## مصادقة {#authentication}

تتطلب جميع نقاط النهاية تعيين [مفتاح API](https://forwardemail.net/my-account/security) كقيمة "اسم المستخدم" لرأس الطلب [التفويض الأساسي](https://en.wikipedia.org/wiki/Basic_access_authentication) (باستثناء [جهات اتصال مستعارة](#alias-contacts) و[تقويمات الأسماء المستعارة](#alias-calendars) و[صناديق البريد المستعارة](#alias-mailboxes) التي تستخدم [تم إنشاء اسم المستخدم وكلمة المرور المستعارة](/faq#do-you-support-receiving-email-with-imap)).

لا تقلق - فيما يلي أمثلة لك إذا لم تكن متأكدًا مما يعنيه هذا.

## أخطاء {#errors}

في حالة حدوث أي أخطاء، سيحتوي نص الاستجابة لطلب واجهة برمجة التطبيقات على رسالة خطأ مفصلة.

| شفرة | اسم |
| ---- | --------------------- |
| 200 | OK |
| 400 | اقتراح غير جيد |
| 401 | غير مصرح به |
| 403 | مُحرَّم |
| 404 | لم يتم العثور عليه |
| 429 | طلبات كثيرة جدًا |
| 500 | خطأ في الخادم الداخلي |
| 501 | لم يتم التنفيذ |
| 502 | بوابة سيئة |
| 503 | الخدمة غير متوفرة |
| 504 | مهلة البوابة |

إذا تلقيت رمز حالة 5xx (وهو أمرٌ غير متوقع)، يُرجى التواصل معنا عبر <a href="mailto:api@forwardemail.net"><api@forwardemail.net></a> وسنساعدك على حل مشكلتك فورًا.

## توطين {#localization}

خدمتنا مُترجمة إلى أكثر من 25 لغة مختلفة. تُترجم جميع رسائل استجابة واجهة برمجة التطبيقات (API) إلى آخر لغة تم رصدها للمستخدم الذي يُجري طلب واجهة برمجة التطبيقات. يمكنك تجاوز ذلك بتمرير رأس `Accept-Language` مُخصص. لا تتردد في تجربتها باستخدام القائمة المنسدلة للغات أسفل هذه الصفحة.

## الترقيم {#pagination}

اعتبارًا من 1 نوفمبر 2024، سيتم ضبط نقاط نهاية واجهة برمجة التطبيقات (API) لـ [قائمة المجالات](#list-domains) و[قائمة أسماء النطاقات المستعارة](#list-domain-aliases) افتراضيًا على الحد الأقصى للنتائج لكل صفحة `1000`. إذا كنت ترغب في تفعيل هذا السلوك مبكرًا، يمكنك تمرير `?paginate=true` كمعلمة سلسلة استعلام إضافية إلى عنوان URL لاستعلام نقطة النهاية.

يتم دعم الترقيم الصفحي من قبل جميع نقاط نهاية واجهة برمجة التطبيقات التي تسرد النتائج.

قم ببساطة بتوفير خصائص سلسلة الاستعلام `page` (واختياريًا `limit`).

يجب أن تكون الخاصية `page` رقمًا أكبر من أو يساوي `1`. إذا أدخلت `limit` (وهو أيضًا رقم)، فإن الحد الأدنى للقيمة هو `10` والحد الأقصى هو `50` (ما لم يُذكر خلاف ذلك).

| معلمات سلسلة الاستعلام | مطلوب | يكتب | وصف |
| --------------------- | -------- | ------ | --------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `page` | لا | رقم | صفحة النتائج المطلوب إرجاعها. في حال عدم تحديدها، ستكون قيمة `page` هي `1`. يجب أن يكون الرقم أكبر من أو يساوي `1`. |
| `limit` | لا | رقم | عدد النتائج المعروضة في كل صفحة. القيمة الافتراضية هي `10` إذا لم تُحدد. يجب أن يكون العدد أكبر من أو يساوي `1`، وأقل من أو يساوي `50`. |

لتحديد ما إذا كانت هناك نتائج أخرى متاحة أم لا، فإننا نوفر رؤوس استجابة HTTP التالية (والتي يمكنك تحليلها من أجل تقسيم الصفحات برمجيًا):

| رأس استجابة HTTP | مثال | وصف |
| -------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `X-Page-Count` | `X-Page-Count: 3` | إجمالي عدد الصفحات المتاحة. |
| `X-Page-Current` | `X-Page-Current: 1` | الصفحة الحالية للنتائج التي تم إرجاعها (على سبيل المثال، بناءً على معلمة سلسلة الاستعلام `page`). |
| `X-Page-Size` | `X-Page-Size: 10` | العدد الإجمالي للنتائج في الصفحة التي تم إرجاعها (على سبيل المثال، بناءً على معلمة سلسلة الاستعلام `limit` والنتائج الفعلية التي تم إرجاعها). |
| `X-Item-Count` | `X-Item-Count: 30` | العدد الإجمالي للعناصر المتوفرة في جميع الصفحات. |
| `Link` | `Link: <https://api.forwardemail.net/v1/emails?page=1>; rel="prev", <https://api.forwardemail.net/v1/emails?page=3>; rel="next", <https://api.forwardemail.net/v1/emails?page=3; rel="last", https://api.forwardemail.net/v1/emails?page=1; rel="first"` | نوفر رأس استجابة HTTP `Link` يمكنك تحليله كما هو موضح في المثال. هذا هو [similar to GitHub](https://docs.github.com/en/rest/using-the-rest-api/using-pagination-in-the-rest-api#using-link-headers) (على سبيل المثال، لن يتم توفير جميع القيم إذا لم تكن ذات صلة أو غير متوفرة، على سبيل المثال، لن يتم توفير `"next"` إذا لم تكن هناك صفحة أخرى). |

> مثال للطلب:

```sh
curl BASE_URI/v1/domains/DOMAIN_NAME/aliases?page=2&pagination=true \
  -u API_TOKEN:
```

## سجلات {#logs}

### استرداد السجلات {#retrieve-logs}

تتيح لك واجهة برمجة التطبيقات (API) الخاصة بنا تنزيل سجلات حسابك برمجيًا. سيؤدي إرسال طلب إلى هذه النقطة النهائية إلى معالجة جميع سجلات حسابك وإرسالها إليك عبر البريد الإلكتروني كمرفق (ملف جدول بيانات مضغوط [جي زيب](https://en.wikipedia.org/wiki/Gzip) [CSV](https://en.wikipedia.org/wiki/Comma-separated_values)) بمجرد اكتماله.

يتيح لك هذا إنشاء مهام خلفية باستخدام [مهمة كرون](https://en.wikipedia.org/wiki/Cron) أو استخدام [برنامج جدولة المهام Node.js Bree](https://github.com/breejs/bree) لتلقي السجلات وقتما تشاء. يُرجى العلم أن هذه النقطة النهائية محدودة بطلبين يوميًا من `10`.

المرفق هو الشكل الصغير لـ `email-deliverability-logs-YYYY-MM-DD-h-mm-A-z.csv.gz`، ويحتوي البريد الإلكتروني نفسه على ملخص موجز للسجلات المسترجعة. يمكنك أيضًا تنزيل السجلات في أي وقت من [حسابي → السجلات](/my-account/logs).

> `GET /v1/logs/download`

| معلمات سلسلة الاستعلام | مطلوب | يكتب | وصف |
| --------------------- | -------- | ------------- | ------------------------------------------------------------------------------------------------------------------------------- |
| `domain` | لا | سلسلة (FQDN) | تصفية السجلات حسب النطاق المؤهل بالكامل ("FQDN"). إذا لم تُوفِّر هذه الميزة، فسيتم استرداد جميع السجلات عبر جميع النطاقات. |
| `q` | لا | خيط | ابحث عن السجلات حسب البريد الإلكتروني أو المجال أو الاسم المستعار أو عنوان IP أو التاريخ (تنسيق `M/Y` أو `M/D/YY` أو `M-D` أو `M-D-YY` أو `M.D.YY`). |
| `bounce_category` | لا | خيط | ابحث عن السجلات حسب فئة الارتداد المحددة (على سبيل المثال `blocklist`). |
| `response_code` | لا | رقم | ابحث عن السجلات حسب رمز استجابة خطأ محدد (على سبيل المثال `421` أو `550`). |

> مثال للطلب:

```sh
curl BASE_URI/v1/logs/download \
  -u API_TOKEN:
```

> مثال على مهمة Cron (في منتصف الليل كل يوم):

```sh
0 0 * * * /usr/bin/curl BASE_URI/v1/logs/download -u API_TOKEN: &>/dev/null
```

لاحظ أنه يمكنك استخدام خدمات مثل [Crontab.guru](https://crontab.guru/) للتحقق من صحة بناء جملة تعبير مهمة cron الخاصة بك.

> مثال على مهمة Cron (في منتصف الليل كل يوم **مع سجلات اليوم السابق**):

بالنسبة لنظام MacOS:

```sh
0 0 * * * /usr/bin/curl BASE_URI/v1/logs/download?q=`date -v-1d -u "+%-m/%-d/%y"` -u API_TOKEN: &>/dev/null
```

بالنسبة إلى Linux و Ubuntu:

```sh
0 0 * * * /usr/bin/curl BASE_URI/v1/logs/download?q=`date --date "-1 days" -u "+%-m/%-d/%y"` -u API_TOKEN: &>/dev/null
```

## الحساب {#account}

### إنشاء حساب {#create-account}

> `POST /v1/account`

| معلمة الجسم | مطلوب | يكتب | وصف |
| -------------- | -------- | -------------- | ------------- |
| `email` | نعم | سلسلة (البريد الإلكتروني) | عنوان البريد الإلكتروني |
| `password` | نعم | خيط | كلمة المرور |

> مثال للطلب:

```sh
curl -X POST BASE_URI/v1/account \
  -u API_TOKEN: \
  -d "email=EMAIL"
```

### استرداد الحساب {#retrieve-account}

> `GET /v1/account`

> مثال للطلب:

```sh
curl BASE_URI/v1/account \
  -u API_TOKEN:
```

### تحديث الحساب {#update-account}

> `PUT /v1/account`

| معلمة الجسم | مطلوب | يكتب | وصف |
| -------------- | -------- | -------------- | -------------------- |
| `email` | لا | سلسلة (البريد الإلكتروني) | عنوان البريد الإلكتروني |
| `given_name` | لا | خيط | الاسم الأول |
| `family_name` | لا | خيط | اسم العائلة |
| `avatar_url` | لا | سلسلة (عنوان URL) | رابط لصورة الرمزية |

> مثال للطلب:

```sh
curl -X PUT BASE_URI/v1/account \
  -u API_TOKEN: \
  -d "email=EMAIL"
```

## جهات اتصال بديلة (CardDAV) {#alias-contacts-carddav}

> \[!NOTE]
> بخلاف نقاط نهاية واجهة برمجة التطبيقات الأخرى، تتطلب هذه النقاط [المصادقة](#authentication) "اسم المستخدم" الذي يُعادل اسم المستخدم المستعار و"كلمة المرور" التي تُعادل كلمة المرور المُولّدة من الاسم المستعار كرؤوس تفويض أساسية.

> \[!WARNING]
> هذا القسم الخاص بنقطة النهاية قيد التطوير، ومن المؤمل إصداره في عام ٢٠٢٤. في هذه الأثناء، يُرجى استخدام برنامج IMAP من قائمة "التطبيقات" المنسدلة في شريط التنقل بموقعنا الإلكتروني.

### قائمة جهات الاتصال {#list-contacts}

> `GET /v1/contacts`

**قريباً**

### إنشاء جهة اتصال {#create-contact}

> `POST /v1/contacts`

**قريباً**

### استرداد جهة الاتصال {#retrieve-contact}

> `GET /v1/contacts/:id`

**قريباً**

### تحديث جهة الاتصال {#update-contact}

> `PUT /v1/contacts/:id`

**قريباً**

### حذف جهة الاتصال {#delete-contact}

> `DELETE /v1/contacts/:id`

**قريباً**

## التقويمات البديلة (CalDAV) {#alias-calendars-caldav}

> \[!NOTE]
> بخلاف نقاط نهاية واجهة برمجة التطبيقات الأخرى، تتطلب هذه النقاط [المصادقة](#authentication) "اسم المستخدم" الذي يُعادل اسم المستخدم المستعار و"كلمة المرور" التي تُعادل كلمة المرور المُولّدة من الاسم المستعار كرؤوس تفويض أساسية.

> \[!WARNING]
> هذا القسم الخاص بنقطة النهاية قيد التطوير، ومن المؤمل إصداره في عام ٢٠٢٤. في هذه الأثناء، يُرجى استخدام برنامج IMAP من قائمة "التطبيقات" المنسدلة في شريط التنقل بموقعنا الإلكتروني.

### قائمة التقويمات {#list-calendars}

> `GET /v1/calendars`

**قريباً**

### إنشاء تقويم {#create-calendar}

> `POST /v1/calendars`

**قريباً**

### استرداد التقويم {#retrieve-calendar}

> `GET /v1/calendars/:id`

**قريباً**

### تحديث التقويم {#update-calendar}

> `PUT /v1/calendars/:id`

**قريباً**

### حذف التقويم {#delete-calendar}

> `DELETE /v1/calendars/:id`

**قريباً**

رسائل الاسم المستعار ## (IMAP/POP3) {#alias-messages-imappop3}

> \[!NOTE]
> بخلاف نقاط نهاية واجهة برمجة التطبيقات الأخرى، تتطلب هذه النقاط [المصادقة](#authentication) "اسم المستخدم" الذي يُعادل اسم المستخدم المستعار و"كلمة المرور" التي تُعادل كلمة المرور المُولّدة من الاسم المستعار كرؤوس تفويض أساسية.

> \[!WARNING]
> هذا القسم الخاص بنقطة النهاية قيد التطوير، ومن المؤمل إصداره في عام ٢٠٢٤. في هذه الأثناء، يُرجى استخدام برنامج IMAP من قائمة "التطبيقات" المنسدلة في شريط التنقل بموقعنا الإلكتروني.

يرجى التأكد من أنك اتبعت تعليمات الإعداد الخاصة بنطاقك.

يمكنك العثور على هذه التعليمات في قسم الأسئلة الشائعة [هل تدعم تلقي البريد الإلكتروني باستخدام IMAP؟](/faq#do-you-support-receiving-email-with-imap).

### قائمة الرسائل والبحث عنها {#list-and-search-for-messages}

> `GET /v1/messages`

**قريباً**

### إنشاء رسالة {#create-message}

> \[!NOTE]
> هذا لن يُرسل بريدًا إلكترونيًا، بل سيضيف الرسالة إلى مجلد صندوق بريدك (على سبيل المثال، هذا مشابه لأمر IMAP `APPEND`). إذا كنت ترغب في إرسال بريد إلكتروني، فراجع [إنشاء بريد إلكتروني SMTP صادر](#create-outbound-smtp-email) أدناه. بعد إنشاء بريد SMTP الصادر، يمكنك إضافة نسخة منه باستخدام هذه النقطة إلى صندوق بريد اسمك المستعار لأغراض التخزين.

> `POST /v1/messages`

**قريباً**

### استرداد الرسالة {#retrieve-message}

> `GET /v1/messages/:id`

**قريباً**

### تحديث الرسالة {#update-message}

> `PUT /v1/messages/:id`

**قريباً**

### حذف الرسالة {#delete-message}

> `DELETE /v1/messages:id`

**قريباً**

## مجلدات الأسماء المستعارة (IMAP/POP3) {#alias-folders-imappop3}

> \[!TIP]
> يمكن استخدام نقاط نهاية المجلدات التي يكون مسارها <code>/v1/folders/:path</code> كنقطة نهاية لها مع مُعرِّف المجلد <code>:id</code>. هذا يعني أنه يمكنك الإشارة إلى المجلد إما باستخدام قيمة <code>path</code> أو <code>id</code>.

> \[!WARNING]
> هذا القسم الخاص بنقطة النهاية قيد التطوير، ومن المؤمل إصداره في عام ٢٠٢٤. في هذه الأثناء، يُرجى استخدام برنامج IMAP من قائمة "التطبيقات" المنسدلة في شريط التنقل بموقعنا الإلكتروني.

### قائمة المجلدات {#list-folders}

> `GET /v1/folders`

**قريباً**

### إنشاء مجلد {#create-folder}

> `POST /v1/folders`

**قريباً**

### استرداد المجلد {#retrieve-folder}

> `GET /v1/folders/:id`

**قريباً**

### تحديث المجلد {#update-folder}

> `PUT /v1/folders/:id`

**قريباً**

### حذف المجلد {#delete-folder}

> `DELETE /v1/folders/:id`

**قريباً**

### نسخ المجلد {#copy-folder}

> `POST /v1/folders/:id/copy`

**قريباً**

## رسائل البريد الإلكتروني الصادرة {#outbound-emails}

يرجى التأكد من أنك اتبعت تعليمات الإعداد الخاصة بنطاقك.

يمكنك العثور على هذه التعليمات في [حسابي ← النطاقات ← الإعدادات ← تكوين SMTP الصادر](/my-account/domains). يجب عليك التأكد من إعداد DKIM وReturn-Path وDMARC لإرسال رسائل SMTP الصادرة مع نطاقك.

### الحصول على حد البريد الإلكتروني الصادر SMTP {#get-outbound-smtp-email-limit}

هذه نقطة نهاية بسيطة تقوم بإرجاع كائن JSON يحتوي على `count` و`limit` لعدد رسائل SMTP الصادرة اليومية على أساس كل حساب.

> `GET /v1/emails/limit`

> مثال للطلب:

```sh
curl BASE_URI/v1/emails/limit \
  -u API_TOKEN:
```

### قائمة رسائل البريد الإلكتروني الصادرة SMTP {#list-outbound-smtp-emails}

لاحظ أن نقطة النهاية هذه لا تقوم بإرجاع قيم الخصائص لـ `message`، أو `headers`، أو `rejectedErrors` في البريد الإلكتروني.

لإرجاع تلك الخصائص وقيمها، يرجى استخدام نقطة النهاية [استرجاع البريد الإلكتروني](#retrieve-email) مع معرف البريد الإلكتروني.

> `GET /v1/emails`

| معلمات سلسلة الاستعلام | مطلوب | يكتب | وصف |
| --------------------- | -------- | ------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ |
| `q` | لا | سلسلة (مدعومة بـ RegExp) | البحث عن رسائل البريد الإلكتروني حسب البيانات الوصفية |
| `domain` | لا | سلسلة (مدعومة بـ RegExp) | البحث عن رسائل البريد الإلكتروني حسب اسم النطاق |
| `sort` | لا | خيط | الفرز حسب حقل محدد (ابدأ بواصلة واحدة `-` للفرز في الاتجاه المعاكس لذلك الحقل). الافتراضي هو `created_at` إذا لم يتم ضبطه. |
| `page` | لا | رقم | انظر [Pagination](#pagination) لمزيد من المعلومات |
| `limit` | لا | رقم | انظر [Pagination](#pagination) لمزيد من المعلومات |

> مثال للطلب:

```sh
curl BASE_URI/v1/emails?limit=1 \
  -u API_TOKEN:
```

### إنشاء بريد SMTP خارجي {#create-outbound-smtp-email}

واجهة برمجة التطبيقات الخاصة بنا لإنشاء بريد إلكتروني مستوحاة من إعدادات خيارات الرسائل في Nodemailer وتستفيد منها. يُرجى الرجوع إلى [تكوين رسالة Nodemailer](https://nodemailer.com/message/) لجميع معلمات النص أدناه.

يرجى ملاحظة أنه باستثناء `envelope` و`dkim` (لأننا نضبطهما تلقائيًا)، فإننا ندعم جميع خيارات Nodemailer. ولأغراض أمنية، نضبط تلقائيًا خياري `disableFileAccess` و`disableUrlAccess` على `true`.

يجب عليك إما تمرير الخيار الفردي `raw` مع بريدك الإلكتروني الكامل الخام بما في ذلك الرؤوس **أو** تمرير خيارات معلمات النص الفردية أدناه.

ستقوم نقطة نهاية واجهة برمجة التطبيقات هذه بترميز الرموز التعبيرية تلقائيًا عند وجودها في العناوين (على سبيل المثال، يتم تحويل سطر الموضوع `Subject: 🤓 Hello` إلى `Subject: =?UTF-8?Q?=F0=9F=A4=93?= Hello` تلقائيًا). كان هدفنا إنشاء واجهة برمجة تطبيقات بريد إلكتروني سهلة الاستخدام للغاية وسهلة الاستخدام للمطورين.

> `POST /v1/emails`

| معلمة الجسم | مطلوب | يكتب | وصف |
| ---------------- | -------- | ---------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `from` | لا | سلسلة (البريد الإلكتروني) | عنوان البريد الإلكتروني للمرسل (يجب أن يكون موجودًا كاسم مستعار للنطاق). |
| `to` | لا | سلسلة أو مصفوفة | قائمة مفصولة بفاصلة أو مجموعة من المستلمين لعنوان "إلى". |
| `cc` | لا | سلسلة أو مصفوفة | قائمة مفصولة بفاصلة أو مجموعة من المستلمين لعنوان "Cc". |
| `bcc` | لا | سلسلة أو مصفوفة | قائمة مفصولة بفاصلة أو مجموعة من المستلمين لعنوان "Bcc". |
| `subject` | لا | خيط | موضوع البريد الإلكتروني. |
| `text` | لا | سلسلة أو مخزن مؤقت | النسخة النصية العادية للرسالة. |
| `html` | لا | سلسلة أو مخزن مؤقت | النسخة HTML من الرسالة. |
| `attachments` | لا | مصفوفة | مجموعة من كائنات المرفقات (انظر [Nodemailer's common fields](https://nodemailer.com/message/#common-fields)). |
| `sender` | لا | خيط | عنوان البريد الإلكتروني لرأس "المرسل" (انظر [Nodemailer's more advanced fields](https://nodemailer.com/message/#more-advanced-fields)). |
| `replyTo` | لا | خيط | عنوان البريد الإلكتروني لعنوان "الرد على". |
| `inReplyTo` | لا | خيط | معرف الرسالة التي يتم الرد عليها. |
| `references` | لا | سلسلة أو مصفوفة | قائمة منفصلة بمسافة أو مجموعة من معرفات الرسائل. |
| `attachDataUrls` | لا | منطقي | إذا كان `true`، فسيتم تحويل الصور `data:` الموجودة في محتوى HTML الخاص بالرسالة إلى مرفقات مضمنة. |
| `watchHtml` | لا | خيط | إصدار HTML خاص بـ Apple Watch من الرسالة ([according to the Nodemailer docs](https://nodemailer.com/message/#content-options])، ولا تتطلب أحدث الساعات تعيين ذلك). |
| `amp` | لا | خيط | إصدار HTML خاص بـ AMP4EMAIL من الرسالة (انظر [Nodemailer's example](https://nodemailer.com/message/#amp-example)). |
| `icalEvent` | لا | هدف | حدث iCalendar لاستخدامه كمحتوى رسالة بديل (انظر [Nodemailer's calendar events](https://nodemailer.com/message/calendar-events/)). |
| `alternatives` | لا | مصفوفة | مجموعة من محتوى الرسائل البديلة (انظر [Nodemailer's alternative content](https://nodemailer.com/message/alternatives/)). |
| `encoding` | لا | خيط | ترميز النص وسلاسل HTML (الافتراضي هو `"utf-8"`، لكنه يدعم أيضًا قيم الترميز `"hex"` و `"base64"`). |
| `raw` | لا | سلسلة أو مخزن مؤقت | رسالة مخصصة بتنسيق RFC822 لاستخدامها (بدلاً من الرسالة التي تم إنشاؤها بواسطة Nodemailer - راجع [Nodemailer's custom source](https://nodemailer.com/message/custom-source/)). |
| `textEncoding` | لا | خيط | الترميز المُلزَم باستخدامه لقيم النصوص (إما `"quoted-printable"` أو `"base64"`). القيمة الافتراضية هي أقرب قيمة مُكتَشَفة (للاستخدام في ASCII، استخدم `"quoted-printable"`). |
| `priority` | لا | خيط | مستوى أولوية البريد الإلكتروني (يمكن أن يكون إما `"high"`، أو `"normal"` (افتراضي)، أو `"low"`). يُرجى ملاحظة أن قيمة `"normal"` لا تُحدد رأس أولوية (هذا هو السلوك الافتراضي). إذا تم تعيين قيمة `"high"` أو `"low"`، فستكون رؤوس `X-Priority`، و`X-MSMail-Priority`، و`Importance` هي [will be set accordingly](https://github.com/nodemailer/nodemailer/blob/19fce2dc4dcb83224acaf1cfc890d08126309594/lib/mailer/mail-message.js#L222-L240). |
| `headers` | لا | كائن أو مصفوفة | كائن أو مجموعة من حقول الرأس الإضافية التي يجب تعيينها (انظر [Nodemailer's custom headers](https://nodemailer.com/message/custom-headers/)). |
| `messageId` | لا | خيط | قيمة معرف الرسالة الاختيارية لعنوان "معرف الرسالة" (سيتم إنشاء قيمة افتراضية تلقائيًا إذا لم يتم تعيينها - لاحظ أن القيمة يجب أن تكون [adhere to the RFC2822 specification](https://stackoverflow.com/a/4031705)). |
| `date` | لا | سلسلة أو تاريخ | قيمة تاريخ اختيارية تُستخدم في حال فقدان عنوان التاريخ بعد التحليل، وإلا فسيتم استخدام سلسلة التوقيت العالمي المنسق (UTC) الحالية في حال عدم ضبطها. لا يمكن أن يكون عنوان التاريخ متقدمًا عن الوقت الحالي بأكثر من 30 يومًا. |
| `list` | لا | هدف | كائن اختياري من رؤوس `List-*` (انظر [Nodemailer's list headers](https://nodemailer.com/message/list-headers/)). |

> مثال للطلب:

```sh
curl -X POST BASE_URI/v1/emails \
  -u API_TOKEN: \
  -d "from=alias@DOMAIN_NAME" \
  -d "to=EMAIL" \
  -d "subject=test" \
  -d "text=test"
```

> مثال للطلب:

```sh
curl -X POST BASE_URI/v1/emails \
  -u API_TOKEN: \
  -d "raw=`cat file.eml`"
```

### استرداد البريد الإلكتروني الصادر SMTP {#retrieve-outbound-smtp-email}

> `GET /v1/emails/:id`

> مثال للطلب:

```sh
curl BASE_URI/v1/emails/:id \
  -u API_TOKEN:
```

### حذف البريد الإلكتروني الصادر SMTP {#delete-outbound-smtp-email}

سيؤدي حذف البريد الإلكتروني إلى تعيين الحالة إلى `"rejected"` (ومن ثم عدم معالجتها في قائمة الانتظار) فقط إذا كانت الحالة الحالية هي إحدى الحالات التالية: `"pending"`، أو `"queued"`، أو `"deferred"`. قد نقوم بحذف رسائل البريد الإلكتروني تلقائيًا بعد 30 يومًا من إنشائها و/أو إرسالها، لذا يُرجى الاحتفاظ بنسخة من رسائل SMTP الصادرة في عميلك أو قاعدة بياناتك أو تطبيقك. يمكنك الرجوع إلى قيمة معرف البريد الإلكتروني في قاعدة بياناتك إذا رغبت في ذلك، حيث يتم إرجاع هذه القيمة من نقطتي النهاية [إنشاء بريد إلكتروني](#create-email) و[استرجاع البريد الإلكتروني](#retrieve-email).

> `DELETE /v1/emails/:id`

> مثال للطلب:

```sh
curl -X DELETE BASE_URI/v1/emails/:id \
  -u API_TOKEN:
```

## المجالات {#domains}

> \[!TIP]
> نقاط نهاية النطاق التي تحمل اسم النطاق <code>/v1/domains/:domain_name</code> كنقطة نهاية لها، يمكن استخدامها مع مُعرّف النطاق <code>:domain_id</code>. هذا يعني أنه يمكنك الإشارة إلى النطاق إما باستخدام قيمة <code>name</code> أو <code>id</code>.

### قائمة المجالات {#list-domains}

اعتبارًا من 1 نوفمبر 2024، سيتم ضبط نقاط نهاية واجهة برمجة التطبيقات (API) لـ [قائمة المجالات](#list-domains) و[قائمة أسماء النطاقات المستعارة](#list-domain-aliases) افتراضيًا على الحد الأقصى للنتائج لكل صفحة `1000`. إذا كنت ترغب في تفعيل هذا السلوك مبكرًا، يمكنك تمرير `?paginate=true` كمعامل سلسلة استعلام إضافي إلى عنوان URL لاستعلام نقطة النهاية. راجع [الترقيم الصفحي](#pagination) لمزيد من المعلومات.

> `GET /v1/domains`

| معلمات سلسلة الاستعلام | مطلوب | يكتب | وصف |
| --------------------- | -------- | ------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ |
| `q` | لا | سلسلة (مدعومة بـ RegExp) | البحث عن النطاقات حسب الاسم |
| `name` | لا | سلسلة (مدعومة بـ RegExp) | البحث عن النطاقات حسب الاسم |
| `sort` | لا | خيط | الفرز حسب حقل محدد (ابدأ بواصلة واحدة `-` للفرز في الاتجاه المعاكس لذلك الحقل). الافتراضي هو `created_at` إذا لم يتم ضبطه. |
| `page` | لا | رقم | انظر [Pagination](#pagination) لمزيد من المعلومات |
| `limit` | لا | رقم | انظر [Pagination](#pagination) لمزيد من المعلومات |

> مثال للطلب:

```sh
curl BASE_URI/v1/domains \
  -u API_TOKEN:
```

### إنشاء المجال {#create-domain}

> `POST /v1/domains`

| معلمة الجسم | مطلوب | يكتب | وصف |
| ------------------------------ | -------- | --------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `domain` | نعم | سلسلة (FQDN أو IP) | اسم النطاق المؤهل بالكامل ("FQDN") أو عنوان IP |
| `team_domain` | لا | سلسلة (معرف المجال أو اسم المجال؛ FQDN) | تعيين هذا النطاق تلقائيًا للفريق نفسه من نطاق آخر. هذا يعني أنه سيتم تعيين جميع أعضاء هذا النطاق كأعضاء في الفريق، وسيتم تعيين `plan` تلقائيًا إلى `team` أيضًا. يمكنك تعيينه إلى `"none"` إذا لزم الأمر لتعطيله صراحةً، ولكن هذا ليس ضروريًا. |
| `plan` | لا | سلسلة (قابلة للعد) | نوع الخطة (يجب أن تكون `"free"`، أو `"enhanced_protection"`، أو `"team"`، والافتراضي هو `"free"` أو الخطة المدفوعة الحالية للمستخدم إذا كان مشتركًا في واحدة منها) |
| `catchall` | لا | سلسلة (عناوين بريد إلكتروني محددة) أو قيمة منطقية | أنشئ اسمًا مستعارًا افتراضيًا شاملًا، يكون افتراضيًا `true` (إذا كان `true`، فسيستخدم عنوان البريد الإلكتروني لمستخدم واجهة برمجة التطبيقات كمستلم، وإذا كان `false`، فلن يتم إنشاء اسم مستعار شامل). إذا تم تمرير سلسلة، فستكون قائمة محددة من عناوين البريد الإلكتروني لاستخدامها كمستلمين (مفصولة بفاصل أسطر، ومسافة، و/أو فاصلة). |
| `has_adult_content_protection` | لا | منطقي | ما إذا كان سيتم تمكين حماية محتوى البالغين من Spam Scanner على هذا المجال |
| `has_phishing_protection` | لا | منطقي | ما إذا كان سيتم تمكين حماية Spam Scanner من التصيد الاحتيالي على هذا المجال |
| `has_executable_protection` | لا | منطقي | ما إذا كان سيتم تمكين حماية الملفات القابلة للتنفيذ من Spam Scanner على هذا المجال |
| `has_virus_protection` | لا | منطقي | ما إذا كان سيتم تمكين الحماية من الفيروسات من خلال Spam Scanner على هذا المجال |
| `has_recipient_verification` | لا | منطقي | النطاق العالمي الافتراضي لمعرفة ما إذا كان يجب على مستلمي الأسماء المستعارة النقر فوق رابط التحقق من البريد الإلكتروني لتدفق رسائل البريد الإلكتروني |
| `ignore_mx_check` | لا | منطقي | هل يجب تجاهل فحص سجل MX على النطاق للتحقق؟ هذا مخصص بشكل أساسي للمستخدمين الذين لديهم قواعد تكوين متقدمة لتبادل MX ويحتاجون إلى الاحتفاظ بتبادل MX الحالي وإعادة توجيهه إلينا. |
| `retention_days` | لا | رقم | عدد صحيح بين `0` و`30`، يُعادل عدد أيام الاحتفاظ برسائل SMTP الصادرة بعد تسليمها بنجاح أو حدوث خطأ دائم فيها. القيمة الافتراضية هي `0`، مما يعني أنه يتم حذف رسائل SMTP الصادرة وحذفها فورًا حفاظًا على أمانك. |
| `bounce_webhook` | لا | سلسلة (URL) أو منطقية (خطأ) | عنوان URL لخطاف الويب `http://` أو `https://` الذي تختاره لإرسال خطافات الويب المرتدة إليه. سنرسل طلبًا `POST` إلى هذا العنوان مع معلومات حول أعطال SMTP الصادرة (مثل الأعطال البسيطة أو الثابتة - لتتمكن من إدارة مشتركيك وإدارة بريدك الإلكتروني الصادر برمجيًا). |
| `max_quota_per_alias` | لا | خيط | الحد الأقصى لحصة تخزين الأسماء المستعارة على اسم النطاق هذا. أدخل قيمة مثل "1 غيغابايت" ليتم تحليلها بواسطة [bytes](https://github.com/visionmedia/bytes.js). |

> مثال للطلب:

```sh
curl -X POST BASE_URI/v1/domains \
  -u API_TOKEN: \
  -d domain=DOMAIN_NAME \
  -d plan=free
```

### استرداد المجال {#retrieve-domain}

> `GET /v1/domains/DOMAIN_NAME`

> مثال للطلب:

```sh
curl BASE_URI/v1/domains/DOMAIN_NAME \
  -u API_TOKEN:
```

### التحقق من سجلات المجال {#verify-domain-records}

> `GET /v1/domains/DOMAIN_NAME/verify-records`

> مثال للطلب:

```sh
curl BASE_URI/v1/domains/DOMAIN_NAME/verify-records \
  -u API_TOKEN:
```

### التحقق من سجلات SMTP للمجال {#verify-domain-smtp-records}

> `GET /v1/domains/DOMAIN_NAME/verify-smtp`

> مثال للطلب:

```sh
curl BASE_URI/v1/domains/DOMAIN_NAME/verify-smtp \
  -u API_TOKEN:
```

### قائمة كلمات المرور الشاملة على مستوى المجال {#list-domain-wide-catch-all-passwords}

> `GET /v1/domains/DOMAIN_NAME/catch-all-passwords`

> مثال للطلب:

```sh
curl BASE_URI/v1/domains/DOMAIN_NAME/catch-all-passwords \
  -u API_TOKEN:
```

### إنشاء كلمة مرور شاملة على مستوى المجال {#create-domain-wide-catch-all-password}

> `POST /v1/domains/DOMAIN_NAME/catch-all-passwords`

| معلمة الجسم | مطلوب | يكتب | وصف |
| -------------- | -------- | ------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `new_password` | لا | خيط | كلمة مرورك الجديدة المخصصة لاستخدامها في كلمة مرور النطاق الشاملة. يُرجى العلم أنه يمكنك تركها فارغة أو حذفها تمامًا من نص طلب واجهة برمجة التطبيقات إذا كنت ترغب في الحصول على كلمة مرور قوية ومولدة عشوائيًا. |
| `description` | لا | خيط | الوصف لأغراض التنظيم فقط. |

> مثال للطلب:

```sh
curl BASE_URL/v1/domains/DOMAIN_NAME/catch-all-passwords \
  -u API_TOKEN:
```

### إزالة كلمة مرور التجميع الشاملة على مستوى النطاق {#remove-domain-wide-catch-all-password}

> `DELETE /v1/domains/DOMAIN_NAME/catch-all-passwords/:token_id`

> مثال للطلب:

```sh
curl -X DELETE BASE_URI/v1/domains/:domain_name/catch-all-passwords/:token_id \
  -u API_TOKEN:
```

### تحديث المجال {#update-domain}

> `PUT /v1/domains/DOMAIN_NAME`

| معلمة الجسم | مطلوب | يكتب | وصف |
| ------------------------------ | -------- | ------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `smtp_port` | لا | سلسلة أو رقم | منفذ مخصص لتكوين إعادة توجيه SMTP (الافتراضي هو `"25"`) |
| `has_adult_content_protection` | لا | منطقي | ما إذا كان سيتم تمكين حماية محتوى البالغين من Spam Scanner على هذا المجال |
| `has_phishing_protection` | لا | منطقي | ما إذا كان سيتم تمكين حماية Spam Scanner من التصيد الاحتيالي على هذا المجال |
| `has_executable_protection` | لا | منطقي | ما إذا كان سيتم تمكين حماية الملفات القابلة للتنفيذ من Spam Scanner على هذا المجال |
| `has_virus_protection` | لا | منطقي | ما إذا كان سيتم تمكين الحماية من الفيروسات من خلال Spam Scanner على هذا المجال |
| `has_recipient_verification` | لا | منطقي | النطاق العالمي الافتراضي لمعرفة ما إذا كان يجب على مستلمي الأسماء المستعارة النقر فوق رابط التحقق من البريد الإلكتروني لتدفق رسائل البريد الإلكتروني |
| `ignore_mx_check` | لا | منطقي | هل يجب تجاهل فحص سجل MX على النطاق للتحقق؟ هذا مخصص بشكل أساسي للمستخدمين الذين لديهم قواعد تكوين متقدمة لتبادل MX ويحتاجون إلى الاحتفاظ بتبادل MX الحالي وإعادة توجيهه إلينا. |
| `retention_days` | لا | رقم | عدد صحيح بين `0` و`30`، يُعادل عدد أيام الاحتفاظ برسائل SMTP الصادرة بعد تسليمها بنجاح أو حدوث خطأ دائم فيها. القيمة الافتراضية هي `0`، مما يعني أنه يتم حذف رسائل SMTP الصادرة وحذفها فورًا حفاظًا على أمانك. |
| `bounce_webhook` | لا | سلسلة (URL) أو منطقية (خطأ) | عنوان URL لخطاف الويب `http://` أو `https://` الذي تختاره لإرسال خطافات الويب المرتدة إليه. سنرسل طلبًا `POST` إلى هذا العنوان مع معلومات حول أعطال SMTP الصادرة (مثل الأعطال البسيطة أو الثابتة - لتتمكن من إدارة مشتركيك وإدارة بريدك الإلكتروني الصادر برمجيًا). |
| `max_quota_per_alias` | لا | خيط | الحد الأقصى لحصة تخزين الأسماء المستعارة على اسم النطاق هذا. أدخل قيمة مثل "1 غيغابايت" ليتم تحليلها بواسطة [bytes](https://github.com/visionmedia/bytes.js). |

> مثال للطلب:

```sh
curl -X PUT BASE_URI/v1/domains/DOMAIN_NAME \
  -u API_TOKEN:
```

### حذف المجال {#delete-domain}

> `DELETE /v1/domains/:domain_name`

> مثال للطلب:

```sh
curl -X DELETE BASE_URI/v1/domains/:domain_name \
  -u API_TOKEN:
```

## يدعو {#invites}

### قبول دعوة النطاق {#accept-domain-invite}

> `GET /v1/domains/:domain_name/invites`

> مثال للطلب:

```sh
curl BASE_URI/v1/domains/:domain_name/invites \
  -u API_TOKEN:
```

### إنشاء دعوة للنطاق {#create-domain-invite}

> `POST /v1/domains/DOMAIN_NAME/invites`

| معلمة الجسم | مطلوب | يكتب | وصف |
| -------------- | -------- | ------------------- | ----------------------------------------------------------------------------------------- |
| `email` | نعم | سلسلة (البريد الإلكتروني) | عنوان البريد الإلكتروني للدعوة إلى قائمة أعضاء المجال |
| `group` | نعم | سلسلة (قابلة للعد) | المجموعة التي سيتم إضافة المستخدم إليها إلى عضوية المجال مع (يمكن أن تكون واحدة من `"admin"` أو `"user"`) |

> مثال للطلب:

```sh
curl -X POST BASE_URI/v1/domains/DOMAIN_NAME/invites \
  -u API_TOKEN: \
  -d "email=EMAIL" \
  -d group=admin
```

> \[!IMPORTANT]
> إذا كان المستخدم المدعو عضوًا مقبولًا في أي نطاق آخر ينتمي إليه المسؤول الذي دعاه، فسيتم قبول الدعوة تلقائيًا ولن يتم إرسال بريد إلكتروني.

### إزالة دعوة النطاق {#remove-domain-invite}

> `DELETE /v1/domains/:domain_name/invites`

| معلمة الجسم | مطلوب | يكتب | وصف |
| -------------- | -------- | -------------- | ------------------------------------------------ |
| `email` | نعم | سلسلة (البريد الإلكتروني) | عنوان البريد الإلكتروني المراد إزالته من قائمة أعضاء المجال |

> مثال للطلب:

```sh
curl -X DELETE BASE_URI/v1/domains/:domain_name/invites \
  -u API_TOKEN:
```

## أعضاء {#members}

### تحديث عضو المجال {#update-domain-member}

> `PUT /v1/domains/DOMAIN_NAME/members/MEMBER_ID`

| معلمة الجسم | مطلوب | يكتب | وصف |
| -------------- | -------- | ------------------- | -------------------------------------------------------------------------------------------- |
| `group` | نعم | سلسلة (قابلة للعد) | المجموعة لتحديث المستخدم إلى عضوية المجال مع (يمكن أن تكون واحدة من `"admin"` أو `"user"`) |

> مثال للطلب:

```sh
curl -X PUT BASE_URI/v1/domains/DOMAIN_NAME/members/MEMBER_ID \
  -u API_TOKEN:
```

### إزالة عضو المجال {#remove-domain-member}

> `DELETE /v1/domains/:domain_name/members/:member_id`

> مثال للطلب:

```sh
curl -X DELETE BASE_URI/v1/domains/:domain_name/members/:member_id \
  -u API_TOKEN:
```

## أسماء مستعارة {#aliases}

### إنشاء كلمة مرور مستعارة {#generate-an-alias-password}

لاحظ أنه إذا لم تقم بإرسال تعليمات عبر البريد الإلكتروني، فسيكون اسم المستخدم وكلمة المرور في نص الاستجابة JSON لطلب ناجح بتنسيق `{ username: 'alias@yourdomain.com', password: 'some-generated-password' }`.

> `POST /v1/domains/DOMAIN_NAME/aliases/ALIAS_ID/generate-password`

| معلمة الجسم | مطلوب | يكتب | وصف |
| ---------------------- | -------- | ------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `new_password` | لا | خيط | كلمة مرورك الجديدة المخصصة للاسم المستعار. يُرجى العلم أنه يمكنك تركها فارغة أو حذفها تمامًا من نص طلب واجهة برمجة التطبيقات إذا كنت ترغب في الحصول على كلمة مرور قوية ومولدة عشوائيًا. |
| `password` | لا | خيط | كلمة المرور الموجودة للاسم المستعار لتغيير كلمة المرور دون حذف مساحة تخزين صندوق بريد IMAP الموجودة (راجع خيار `is_override` أدناه إذا لم تعد لديك كلمة المرور الموجودة). |
| `is_override` | لا | منطقي | **يُرجى استخدام هذا بحذر**: سيؤدي هذا إلى إلغاء كلمة مرور الاسم المستعار وقاعدة البيانات الحالية تمامًا، وحذف ذاكرة تخزين IMAP الحالية نهائيًا وإعادة تعيين قاعدة بيانات البريد الإلكتروني SQLite الخاصة بالاسم المستعار بالكامل. يُرجى عمل نسخة احتياطية إن أمكن إذا كان لديك صندوق بريد مرتبط بهذا الاسم المستعار. |
| `emailed_instructions` | لا | خيط | عنوان البريد الإلكتروني لإرسال كلمة المرور الخاصة بالاسم المستعار وتعليمات الإعداد إليه. |

> مثال للطلب:

```sh
curl -X POST BASE_URI/v1/domains/DOMAIN_NAME/aliases/ALIAS_ID/generate-password \
  -u API_TOKEN:
```

### قائمة أسماء النطاقات المستعارة {#list-domain-aliases}

اعتبارًا من 1 نوفمبر 2024، سيتم ضبط نقاط نهاية واجهة برمجة التطبيقات (API) لـ [قائمة المجالات](#list-domains) و[قائمة أسماء النطاقات المستعارة](#list-domain-aliases) افتراضيًا على الحد الأقصى للنتائج لكل صفحة `1000`. إذا كنت ترغب في تفعيل هذا السلوك مبكرًا، يمكنك تمرير `?paginate=true` كمعامل سلسلة استعلام إضافي إلى عنوان URL لاستعلام نقطة النهاية. راجع [الترقيم الصفحي](#pagination) لمزيد من المعلومات.

> `GET /v1/domains/DOMAIN_NAME/aliases`

| معلمات سلسلة الاستعلام | مطلوب | يكتب | وصف |
| --------------------- | -------- | ------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ |
| `q` | لا | سلسلة (مدعومة بـ RegExp) | البحث عن الأسماء المستعارة في المجال حسب الاسم أو التسمية أو المستلم |
| `name` | لا | سلسلة (مدعومة بـ RegExp) | البحث عن الأسماء المستعارة في المجال حسب الاسم |
| `recipient` | لا | سلسلة (مدعومة بـ RegExp) | البحث عن الأسماء المستعارة في المجال حسب المستلم |
| `sort` | لا | خيط | الفرز حسب حقل محدد (ابدأ بواصلة واحدة `-` للفرز في الاتجاه المعاكس لذلك الحقل). الافتراضي هو `created_at` إذا لم يتم ضبطه. |
| `page` | لا | رقم | انظر [Pagination](#pagination) لمزيد من المعلومات |
| `limit` | لا | رقم | انظر [Pagination](#pagination) لمزيد من المعلومات |

> مثال للطلب:

```sh
curl BASE_URI/v1/domains/DOMAIN_NAME/aliases?pagination=true \
  -u API_TOKEN:
```

### إنشاء اسم نطاق مستعار جديد {#create-new-domain-alias}

> `POST /v1/domains/DOMAIN_NAME/aliases`

| معلمة الجسم | مطلوب | يكتب | وصف |
| ------------------------------- | -------- | -------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `name` | لا | خيط | اسم مستعار (إذا لم يتم توفيره أو إذا كان فارغًا، فسيتم إنشاء اسم مستعار عشوائي) |
| `recipients` | لا | سلسلة أو مصفوفة | قائمة المستلمين (يجب أن تكون عبارة عن سلسلة أو مجموعة من عناوين البريد الإلكتروني الصالحة، وأسماء النطاقات المؤهلة بالكامل ("FQDN")، وعناوين IP، و/أو عناوين URL الخاصة بالويب هوك - وإذا لم يتم توفيرها أو كانت مجموعة فارغة، فسيتم تعيين بريد المستخدم الإلكتروني الذي يقوم بطلب واجهة برمجة التطبيقات كمستلم) |
| `description` | لا | خيط | وصف الاسم المستعار |
| `labels` | لا | سلسلة أو مصفوفة | قائمة العلامات (يجب أن تكون مفصولة بفاصل سطر/مسافة/فاصلة في سلسلة أو مصفوفة) |
| `has_recipient_verification` | لا | منطقي | مطالبة المستلمين بالنقر فوق رابط التحقق من البريد الإلكتروني لتدفق رسائل البريد الإلكتروني (يتم تعيينه افتراضيًا على إعداد المجال إذا لم يتم تعيينه صراحةً في نص الطلب) |
| `is_enabled` | لا | منطقي | هل سيتم تفعيل هذا الاسم المستعار أم تعطيله؟ (في حال تعطيله، لن يتم توجيه رسائل البريد الإلكتروني إلى أي مكان، بل ستعرض رموز حالة ناجحة). عند تمرير قيمة، تُحوّل إلى قيمة منطقية باستخدام [boolean](https://github.com/thenativeweb/boolean#quick-start). |
| `error_code_if_disabled` | لا | الرقم (إما `250`، أو `421`، أو `550`) | سيتم رفض البريد الإلكتروني الوارد إلى هذا الاسم المستعار إذا كان `is_enabled` هو `false` مع `250` (عدم التسليم بهدوء، مثلاً blackhole أو `/dev/null`)، أو `421` (رفض مؤقت وإعادة المحاولة لمدة تصل إلى 5 أيام تقريبًا)، أو `550` مع فشل دائم ورفض. الإعداد الافتراضي هو `250`. |
| `has_imap` | لا | منطقي | ما إذا كان سيتم تمكين أو تعطيل تخزين IMAP لهذا الاسم المستعار (في حالة تعطيله، فلن يتم تخزين رسائل البريد الإلكتروني الواردة في [IMAP storage](/blog/docs/best-quantum-safe-encrypted-email-service). إذا تم تمرير قيمة، فسيتم تحويلها إلى قيمة منطقية باستخدام [boolean](https://github.com/thenativeweb/boolean#quick-start)) |
| `has_pgp` | لا | منطقي | ما إذا كان سيتم تمكين أو تعطيل [OpenPGP encryption](/faq#do-you-support-openpgpmime-end-to-end-encryption-e2ee-and-web-key-directory-wkd) لـ [IMAP/POP3/CalDAV/CardDAV encrypted email storage](/blog/docs/best-quantum-safe-encrypted-email-service) باستخدام الاسم المستعار `public_key`. |
| `public_key` | لا | خيط | مفتاح OpenPGP العام بصيغة ASCII Armor ([click here to view an example](/.well-known/openpgpkey/hu/mxqp8ogw4jfq83a58pn1wy1ccc1cx3f5.txt)؛ على سبيل المثال، مفتاح GPG لـ `support@forwardemail.net`). ينطبق هذا فقط إذا تم ضبط `has_pgp` على `true`. [Learn more about end-to-end encryption in our FAQ](/faq#do-you-support-openpgpmime-end-to-end-encryption-e2ee-and-web-key-directory-wkd). |
| `max_quota` | لا | خيط | الحد الأقصى لحصة التخزين لهذا الاسم المستعار. اتركه فارغًا لإعادة ضبط الحد الأقصى لحصة النطاق الحالية، أو أدخل قيمة مثل "1 غيغابايت" التي سيتم تحليلها بواسطة [bytes](https://github.com/visionmedia/bytes.js). لا يمكن تعديل هذه القيمة إلا من قِبل مسؤولي النطاق. |
| `vacation_responder_is_enabled` | لا | منطقي | ما إذا كان سيتم تمكين أو تعطيل الرد التلقائي على الإجازة. |
| `vacation_responder_start_date` | لا | خيط | تاريخ بدء الاستجابة التلقائية (في حال تفعيلها وعدم تحديد تاريخ بدء هنا، يفترض أنها بدأت بالفعل). ندعم تنسيقات التاريخ مثل `MM/DD/YYYY` و`YYYY-MM-DD` وتنسيقات التاريخ الأخرى عبر التحليل الذكي باستخدام `dayjs`. |
| `vacation_responder_end_date` | لا | خيط | تاريخ انتهاء صلاحية مُجيب الإجازة (في حال تفعيله وعدم تحديد تاريخ انتهاء صلاحية هنا، يفترض أنه لن ينتهي أبدًا وسيستمر في الاستجابة للأبد). ندعم تنسيقات التاريخ مثل `MM/DD/YYYY` و`YYYY-MM-DD` وتنسيقات التاريخ الأخرى عبر التحليل الذكي باستخدام `dayjs`. |
| `vacation_responder_subject` | لا | خيط | الموضوع بنص عادي للرد التلقائي، مثل "خارج المكتب". نستخدم `striptags` لإزالة جميع رموز HTML هنا. |
| `vacation_responder_message` | لا | خيط | رسالة نصية عادية للرد التلقائي، على سبيل المثال: "سأكون غائبًا عن المكتب حتى فبراير". نستخدم `striptags` لإزالة جميع رموز HTML هنا. |

> مثال للطلب:

```sh
curl -X POST BASE_URI/v1/domains/DOMAIN_NAME/aliases \
  -u API_TOKEN:
```

### استرداد اسم المجال المستعار {#retrieve-domain-alias}

يمكنك استرداد اسم المجال المستعار إما من خلال قيمته `id` أو `name`.

> `GET /v1/domains/:domain_name/aliases/:alias_id`

> مثال للطلب:

```sh
curl BASE_URI/v1/domains/:domain_name/aliases/:alias_id \
  -u API_TOKEN:
```

> `GET /v1/domains/:domain_name/aliases/:alias_name`

> مثال للطلب:

```sh
curl BASE_URI/v1/domains/:domain_name/aliases/:alias_name \
  -u API_TOKEN:
```

### تحديث اسم النطاق المستعار {#update-domain-alias}

> `PUT /v1/domains/DOMAIN_NAME/aliases/ALIAS_ID`

| معلمة الجسم | مطلوب | يكتب | وصف |
| ------------------------------- | -------- | -------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `name` | لا | خيط | الاسم المستعار |
| `recipients` | لا | سلسلة أو مصفوفة | قائمة المستلمين (يجب أن تكون مفصولة بفاصل أسطر/مسافة/فاصلة، أو سلسلة أو مجموعة من عناوين البريد الإلكتروني الصالحة، وأسماء النطاقات المؤهلة بالكامل ("FQDN")، وعناوين IP، و/أو عناوين URL الخاصة بـ webhook) |
| `description` | لا | خيط | وصف الاسم المستعار |
| `labels` | لا | سلسلة أو مصفوفة | قائمة العلامات (يجب أن تكون مفصولة بفاصل سطر/مسافة/فاصلة في سلسلة أو مصفوفة) |
| `has_recipient_verification` | لا | منطقي | مطالبة المستلمين بالنقر فوق رابط التحقق من البريد الإلكتروني لتدفق رسائل البريد الإلكتروني (يتم تعيينه افتراضيًا على إعداد المجال إذا لم يتم تعيينه صراحةً في نص الطلب) |
| `is_enabled` | لا | منطقي | هل سيتم تفعيل هذا الاسم المستعار أم تعطيله؟ (في حال تعطيله، لن يتم توجيه رسائل البريد الإلكتروني إلى أي مكان، بل ستعرض رموز حالة ناجحة). عند تمرير قيمة، تُحوّل إلى قيمة منطقية باستخدام [boolean](https://github.com/thenativeweb/boolean#quick-start). |
| `error_code_if_disabled` | لا | الرقم (إما `250`، أو `421`، أو `550`) | سيتم رفض البريد الإلكتروني الوارد إلى هذا الاسم المستعار إذا كان `is_enabled` هو `false` مع `250` (عدم التسليم بهدوء، مثلاً blackhole أو `/dev/null`)، أو `421` (رفض مؤقت وإعادة المحاولة لمدة تصل إلى 5 أيام تقريبًا)، أو `550` مع فشل دائم ورفض. الإعداد الافتراضي هو `250`. |
| `has_imap` | لا | منطقي | ما إذا كان سيتم تمكين أو تعطيل تخزين IMAP لهذا الاسم المستعار (في حالة تعطيله، فلن يتم تخزين رسائل البريد الإلكتروني الواردة في [IMAP storage](/blog/docs/best-quantum-safe-encrypted-email-service). إذا تم تمرير قيمة، فسيتم تحويلها إلى قيمة منطقية باستخدام [boolean](https://github.com/thenativeweb/boolean#quick-start)) |
| `has_pgp` | لا | منطقي | ما إذا كان سيتم تمكين أو تعطيل [OpenPGP encryption](/faq#do-you-support-openpgpmime-end-to-end-encryption-e2ee-and-web-key-directory-wkd) لـ [IMAP/POP3/CalDAV/CardDAV encrypted email storage](/blog/docs/best-quantum-safe-encrypted-email-service) باستخدام الاسم المستعار `public_key`. |
| `public_key` | لا | خيط | مفتاح OpenPGP العام بصيغة ASCII Armor ([click here to view an example](/.well-known/openpgpkey/hu/mxqp8ogw4jfq83a58pn1wy1ccc1cx3f5.txt)؛ على سبيل المثال، مفتاح GPG لـ `support@forwardemail.net`). ينطبق هذا فقط إذا تم ضبط `has_pgp` على `true`. [Learn more about end-to-end encryption in our FAQ](/faq#do-you-support-openpgpmime-end-to-end-encryption-e2ee-and-web-key-directory-wkd). |
| `max_quota` | لا | خيط | الحد الأقصى لحصة التخزين لهذا الاسم المستعار. اتركه فارغًا لإعادة ضبط الحد الأقصى لحصة النطاق الحالية، أو أدخل قيمة مثل "1 غيغابايت" التي سيتم تحليلها بواسطة [bytes](https://github.com/visionmedia/bytes.js). لا يمكن تعديل هذه القيمة إلا من قِبل مسؤولي النطاق. |
| `vacation_responder_is_enabled` | لا | منطقي | ما إذا كان سيتم تمكين أو تعطيل الرد التلقائي على الإجازة. |
| `vacation_responder_start_date` | لا | خيط | تاريخ بدء الاستجابة التلقائية (في حال تفعيلها وعدم تحديد تاريخ بدء هنا، يفترض أنها بدأت بالفعل). ندعم تنسيقات التاريخ مثل `MM/DD/YYYY` و`YYYY-MM-DD` وتنسيقات التاريخ الأخرى عبر التحليل الذكي باستخدام `dayjs`. |
| `vacation_responder_end_date` | لا | خيط | تاريخ انتهاء صلاحية مُجيب الإجازة (في حال تفعيله وعدم تحديد تاريخ انتهاء صلاحية هنا، يفترض أنه لن ينتهي أبدًا وسيستمر في الاستجابة للأبد). ندعم تنسيقات التاريخ مثل `MM/DD/YYYY` و`YYYY-MM-DD` وتنسيقات التاريخ الأخرى عبر التحليل الذكي باستخدام `dayjs`. |
| `vacation_responder_subject` | لا | خيط | الموضوع بنص عادي للرد التلقائي، مثل "خارج المكتب". نستخدم `striptags` لإزالة جميع رموز HTML هنا. |
| `vacation_responder_message` | لا | خيط | رسالة نصية عادية للرد التلقائي، على سبيل المثال: "سأكون غائبًا عن المكتب حتى فبراير". نستخدم `striptags` لإزالة جميع رموز HTML هنا. |

> مثال للطلب:

```sh
curl -X PUT BASE_URI/v1/domains/DOMAIN_NAME/aliases/ALIAS_ID \
  -u API_TOKEN:
```

### حذف اسم النطاق المستعار {#delete-domain-alias}

> `DELETE /v1/domains/:domain_name/aliases/:alias_id`

> مثال للطلب:

```sh
curl -X DELETE BASE_URI/v1/domains/:domain_name/aliases/:alias_id \
  -u API_TOKEN:
```

## تشفير {#encrypt}

نسمح لك بتشفير السجلات حتى في الخطة المجانية دون أي تكلفة. الخصوصية ليست ميزة، بل يجب أن تكون جزءًا لا يتجزأ من جميع جوانب المنتج. بناءً على الطلب الشديد في [مناقشة أدلة الخصوصية](https://discuss.privacyguides.net/t/forward-email-email-provider/13370) و[مشاكلنا على GitHub](https://github.com/forwardemail/forwardemail.net/issues/254)، أضفنا هذه الميزة.

### تشفير سجل TXT {#encrypt-txt-record}

> `POST /v1/encrypt`

| معلمة الجسم | مطلوب | يكتب | وصف |
| -------------- | -------- | ------ | -------------------------------------------- |
| `input` | نعم | خيط | أي سجل نص عادي صالح للبريد الإلكتروني المعاد توجيهه |

> مثال للطلب:

```sh
curl -X POST BASE_URI/v1/encrypt \
  -d "input=user@gmail.com"
```
