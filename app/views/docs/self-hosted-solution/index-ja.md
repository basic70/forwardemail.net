# セルフホスト型メール: オープンソースへの取り組み {#self-hosted-email-commitment-to-open-source}

<img loading="lazy" src="/img/articles/self-hosted.webp" alt="" class="rounded-lg" />

## 目次 {#table-of-contents}

* [序文](#foreword)
* [セルフホスト型メールが重要な理由](#why-self-hosted-email-matters)
  * [従来のメールサービスの問題点](#the-problem-with-traditional-email-services)
  * [セルフホストの代替手段](#the-self-hosted-alternative)
* [セルフホスト実装：技術概要](#our-self-hosted-implementation-technical-overview)
  * [シンプルさと移植性を実現するDockerベースのアーキテクチャ](#docker-based-architecture-for-simplicity-and-portability)
  * [Bash スクリプトによるインストール: アクセシビリティとセキュリティの融合](#bash-script-installation-accessibility-meets-security)
  * [将来に渡ってプライバシーを守る耐量子暗号](#quantum-safe-encryption-for-future-proof-privacy)
  * [自動メンテナンスとアップデート](#automated-maintenance-and-updates)
* [オープンソースへの取り組み](#the-open-source-commitment)
* [セルフホスト vs. マネージド：正しい選択](#self-hosted-vs-managed-making-the-right-choice)
  * [セルフホスティングメールの現実](#the-reality-of-self-hosting-email)
  * [当社のマネージドサービスを選ぶべきタイミング](#when-to-choose-our-managed-service)
* [セルフホスト転送メールを使い始める](#getting-started-with-self-hosted-forward-email)
  * [システム要件](#system-requirements)
  * [インストール手順](#installation-steps)
* [セルフホスト型メールの未来](#the-future-of-self-hosted-email)
* [結論：誰もがメールの自由を](#conclusion-email-freedom-for-everyone)
* [参考文献](#references)

## 序文 {#foreword}

今日のデジタル環境において、メールは依然として私たちのオンラインアイデンティティとコミュニケーションの基盤となっています。しかし、プライバシーへの懸念が高まるにつれ、多くのユーザーは難しい選択に直面しています。利便性を犠牲にしてプライバシーを優先するか、利便性を犠牲にしてプライバシーを優先するかです。Forward Emailは、ユーザーがどちらか一方を選ぶ必要はないと常に考えています。

本日、私たちの歩みにおける重要な節目となる、セルフホスト型メールソリューションのリリースを発表できることを大変嬉しく思います。この機能は、オープンソースの原則、プライバシー重視の設計、そしてユーザーのエンパワーメントに対する私たちの深いコミットメントを表しています。セルフホスト型オプションにより、メールコミュニケーションの完全な制御をお客様が直接管理できるようになります。

このブログ投稿では、当社のセルフホスト型ソリューションの背後にある哲学、その技術的実装、そしてデジタル通信においてプライバシーと所有権の両方を優先するユーザーにとってそれがなぜ重要なのかについて説明します。

## セルフホスト型メールが重要な理由 {#why-self-hosted-email-matters}

当社のセルフホスト型メールソリューションは、真のプライバシーとはコントロールであり、そのコントロールはオープンソースから始まるという私たちの信念を最も明確に体現しています。デジタルコミュニケーションの完全な所有権を求めるユーザーにとって、セルフホスティングはもはや異端の考えではなく、不可欠な権利です。私たちは、お客様がご自身の条件で運用できる、完全にオープンで検証可能なプラットフォームを通じて、この信念を貫くことを誇りに思います。

### 従来のメールサービスの問題点 {#the-problem-with-traditional-email-services}

従来の電子メール サービスは、プライバシーを重視するユーザーにとっていくつかの根本的な課題を提示します。

1. **信頼要件**: プロバイダーがデータにアクセス、分析、共有しないことを信頼する必要があります。
2. **集中管理**: アクセスはいつでも、いかなる理由でも取り消される可能性があります。
3. **監視の脆弱性**: 集中管理型サービスは監視の主要な標的となります。
4. **透明性の限界**: ほとんどのサービスは、独自のクローズドソースソフトウェアを使用しています。
5. **ベンダーロックイン**: これらのサービスからの移行は困難、または不可能になる可能性があります。

「プライバシー重視」を謳うメールプロバイダーでさえ、フロントエンドアプリケーションのみをオープンソース化し、バックエンドシステムは独自仕様でクローズドなままにしておくことで、期待に応えられないことがよくあります。これは大きな信頼のギャップを生み出します。つまり、プライバシーに関する約束を、それを検証することができないまま信じるように求められるのです。

### セルフホストの代替手段 {#the-self-hosted-alternative}

電子メールを自己ホストすると、根本的に異なるアプローチが提供されます。

1. **完全なコントロール**: メールインフラ全体を所有・管理できます
2. **検証可能なプライバシー**: システム全体が透明性と監査性を備えています
3. **信頼は不要**: 通信を第三者に委託する必要はありません
4. **自由なカスタマイズ**: システムをお客様のニーズに合わせて調整できます
5. **回復力**: 企業の決定に関わらず、お客様のサービスは継続されます

あるユーザーはこう述べています。「自分のメールを自分でホストするというのは、自分の食べ物を育てることのデジタル版です。手間はかかりますが、その内容を正確に把握できます。」

## セルフホスト実装：技術概要 {#our-self-hosted-implementation-technical-overview}

当社のセルフホスト型メールソリューションは、すべての製品に共通するプライバシー第一の原則に基づいて構築されています。これを実現する技術的な実装について見ていきましょう。

### シンプルさと移植性を実現する Docker ベースのアーキテクチャ {#docker-based-architecture-for-simplicity-and-portability}

メールインフラ全体をDockerでパッケージ化することで、ほぼあらゆるLinuxベースのシステムに簡単にデプロイできるようになりました。このコンテナ化されたアプローチには、いくつかの重要なメリットがあります。

1. **シンプルなデプロイ**: たった1つのコマンドでインフラストラクチャ全体をセットアップ
2. **一貫性のある環境**: 「自分のマシンでは動作する」という問題を排除
3. **分離されたコンポーネント**: セキュリティ確保のため、各サービスは独自のコンテナで実行
4. **簡単なアップデート**: シンプルなコマンドでスタック全体をアップデート
5. **最小限の依存関係**: DockerとDocker Composeのみが必要

アーキテクチャには次のコンテナが含まれます。

* 管理用Webインターフェース
* 送信メール用SMTPサーバー
* メール取得用IMAP/POP3サーバー
* カレンダー用CalDAVサーバー
* 連絡先用CardDAVサーバー
* 設定保存用データベース
* キャッシュとパフォーマンス向上のためのRedis
* 安全で暗号化されたメールボックス保存用のSQLite

> \[!NOTE]
> [セルフホスト開発者ガイド](https://forwardemail.net/self-hosted) もぜひご覧ください

### Bashスクリプトのインストール：アクセシビリティとセキュリティの融合 {#bash-script-installation-accessibility-meets-security}

セキュリティのベスト プラクティスを維持しながら、インストール プロセスを可能な限りシンプルに設計しました。

```bash
bash <(curl -fsSL https://raw.githubusercontent.com/forwardemail/forwardemail.net/master/self-hosting/setup.sh)
```

この単一のコマンド:

1. システム要件の確認
2. 設定手順のガイド
3. DNSレコードの設定
4. TLS証明書の設定
5. Dockerコンテナのデプロイ
6. 初期セキュリティ強化の実行

スクリプトをbashにパイプすることに不安がある方は（当然ですが）、実行前にスクリプトを確認することをお勧めします。スクリプトは完全にオープンソースなので、自由に閲覧できます。

### 将来を見据えたプライバシーのための耐量子暗号化 {#quantum-safe-encryption-for-future-proof-privacy}

ホスティングサービスと同様に、セルフホスティングソリューションでは、SQLiteデータベースの暗号としてChaCha20-Poly1305を用いた耐量子暗号を実装しています。このアプローチにより、お客様のメールデータは、現在の脅威だけでなく、将来の量子コンピューティング攻撃からも保護されます。

各メールボックスは独自の暗号化された SQLite データベース ファイルに保存され、ユーザー間の完全な分離が実現されます。これは、従来の共有データベース アプローチに比べてセキュリティ上の大きな利点です。

### 自動メンテナンスとアップデート {#automated-maintenance-and-updates}

包括的なメンテナンス ユーティリティをセルフホスト ソリューションに直接組み込みました。

1. **自動バックアップ**: すべての重要なデータのスケジュールバックアップ
2. **証明書更新**: Let's Encrypt 証明書の自動管理
3. **システムアップデート**: シンプルなコマンドで最新バージョンに更新
4. **ヘルスモニタリング**: システムの整合性を確保するための組み込みチェック

これらのユーティリティには、シンプルな対話型メニューからアクセスできます。

```bash
# script prompt

1. Initial setup
2. Setup Backups
3. Setup Auto Upgrades
4. Renew certificates
5. Restore from Backup
6. Help
7. Exit
```

## オープンソースへの取り組み {#the-open-source-commitment}

当社のセルフホスト型メールソリューションは、他のすべての製品と同様に、フロントエンドとバックエンドの両方で100%オープンソースです。つまり、

1. **完全な透明性**: メールを処理するすべてのコード行が公開されており、誰でも精査できます。
2. **コミュニティへの貢献**: 誰でも改善や問題の修正に貢献できます。
3. **オープン性によるセキュリティ**: 脆弱性はグローバルコミュニティによって特定・修正されます。
4. **ベンダーロックインなし**: お客様は当社の存在に依存する必要はありません。

コードベース全体はGitHubの<https://github.com/forwardemail/forwardemail.net>.で入手可能です。

## セルフホスト vs. マネージド：正しい選択をする {#self-hosted-vs-managed-making-the-right-choice}

セルフホスティングオプションを提供できることを誇りに思っておりますが、すべてのお客様にとって最適な選択肢ではないことを認識しております。メールのセルフホスティングには、次のような責任と課題が伴います。

### セルフホスティングメールの現実 {#the-reality-of-self-hosting-email}

#### 技術的な考慮事項 {#technical-considerations}

* **サーバー管理**: VPSまたは専用サーバーを維持する必要があります
* **DNS設定**: 適切なDNS設定は配信に不可欠です
* **セキュリティアップデート**: 最新のセキュリティパッチを適用することが重要です
* **スパム管理**: スパムフィルタリングを行う必要があります
* **バックアップ戦略**: 信頼性の高いバックアップの実装はお客様の責任です

#### 時間投資 {#time-investment}

* **初期設定**: 設定、検証、ドキュメントの閲覧にかかる時間
* **継続的なメンテナンス**: 定期的なアップデートと監視
* **トラブルシューティング**: 問題解決のための定期的な時間

#### 財務上の考慮事項 {#financial-considerations}

* **サーバー費用**: ベーシックVPSの場合、月額5～20ドル
* **ドメイン登録**: 年間10～20ドル
* **時間価値**: 時間投資には真の価値があります

### マネージドサービスを選ぶべきタイミング {#when-to-choose-our-managed-service}

多くのユーザーにとって、当社のマネージド サービスは依然として最良の選択肢です。

1. **利便性**: メンテナンス、アップデート、監視はすべて当社が担当します
2. **信頼性**: 確立されたインフラストラクチャと専門知識を活用できます
3. **サポート**: 問題が発生した場合はサポートを受けられます
4. **配信性**: 確立されたIPの評判を活用できます
5. **費用対効果**: 時間コストを考慮すると、当社のサービスはより経済的です

どちらのオプションも同じプライバシーの利点とオープンソースの透明性を提供します。違いは、インフラストラクチャを誰が管理するかだけです。

## セルフホスト転送メールの使用開始 {#getting-started-with-self-hosted-forward-email}

メールインフラストラクチャを管理する準備はできていますか？開始方法は次のとおりです。

### システム要件 {#system-requirements}

* Ubuntu 20.04 LTS以降（推奨）
* 最低1GBのRAM（2GB以上を推奨）
* 20GB以上のストレージを推奨
* ご自身で管理できるドメイン名
* ポート25をサポートするパブリックIPアドレス
* [逆PTR](https://www.cloudflare.com/learning/dns/dns-records/dns-ptr-record/)を設定できること
* IPv4およびIPv6をサポート

> \[!TIP]
> <https://forwardemail.net/blog/docs/best-mail-server-providers> (ソースは <https://github.com/forwardemail/awesome-mail-server-providers>) にある複数のメールサーバープロバイダーを推奨します

### インストール手順 {#installation-steps}

1. **インストールスクリプトを実行します**:
```bash
   bash <(curl -fsSL https://raw.githubusercontent.com/forwardemail/forwardemail.net/master/self-hosting/setup.sh)
   ```

2. **対話形式のプロンプトに従います**:
* ドメイン名を入力します
* 管理者の認証情報を設定します
* 指示に従ってDNSレコードを設定します
* 希望する設定オプションを選択します

3. **インストールの確認**:
インストールが完了したら、以下の手順ですべてが正常に動作しているかどうかを確認できます。
* コンテナのステータスを確認する: `docker ps`
* テストメールを送信する
* Webインターフェースにログインする

## セルフホスト型メールの未来 {#the-future-of-self-hosted-email}

当社のセルフホスト型ソリューションは、まだ始まりに過ぎません。私たちは、このソリューションを継続的に改善していくことに尽力しています。

1. **強化された管理ツール**: より強力なWebベースの管理
2. **追加の認証オプション**: ハードウェアセキュリティキーのサポートを含む
3. **高度な監視**: システムの健全性とパフォーマンスに関するより詳細な情報
4. **マルチサーバー展開**: 高可用性構成のオプション
5. **コミュニティ主導の改善**: ユーザーからの貢献を取り入れる

## 結論: 誰もがメールを自由に使えるようになる {#conclusion-email-freedom-for-everyone}

セルフホスト型メールソリューションのリリースは、プライバシーを重視し透明性の高いメールサービスを提供するという当社の使命において、重要な節目となります。マネージドサービスとセルフホスト型のどちらをお選びいただいても、オープンソースの原則とプライバシーを最優先とした設計への揺るぎないコミットメントの恩恵を受けることができます。

メールは、ユーザーのプライバシーよりもデータ収集を優先する閉鎖的な独自システムによって管理されるべきではありません。Forward Emailのセルフホスト型ソリューションは、真の代替手段であり、お客様がデジタルコミュニケーションを完全に制御できるソリューションを提供できることを誇りに思います。

私たちは、プライバシーは単なる機能ではなく、基本的な権利であると信じています。そして、セルフホスト型メールオプションによって、この権利をこれまで以上に容易に享受できるようになります。

メールを管理する準備はできましたか? [今すぐ始めましょう](https://forwardemail.net/self-hosted) または [GitHubリポジトリ](https://github.com/forwardemail/forwardemail.net) で詳細をご覧ください。

## 参照 {#references}

\[1] メールを転送する GitHubリポジトリ: <https://github.com/forwardemail/forwardemail.net>

\[2] セルフホストドキュメント: <https://forwardemail.net/en/self-hosted>

\[3] 電子メールプライバシーの技術的実装: <https://forwardemail.net/en/blog/docs/email-privacy-protection-technical-implementation>

\[4] オープンソースの電子メールが重要な理由: <https://forwardemail.net/en/blog/docs/why-open-source-email-security-privacy>