# Самостоятельное размещение электронной почты: приверженность открытому исходному коду {#self-hosted-email-commitment-to-open-source}

<img loading="lazy" src="/img/articles/self-hosted.webp" alt="" class="rounded-lg" />

## Содержание {#table-of-contents}

* [Предисловие](#foreword)
* [Почему важно иметь собственную электронную почту](#why-self-hosted-email-matters)
  * [Проблема традиционных почтовых сервисов](#the-problem-with-traditional-email-services)
  * [Альтернатива с самостоятельным размещением](#the-self-hosted-alternative)
* [Наша реализация на собственном сервере: технический обзор](#our-self-hosted-implementation-technical-overview)
  * [Архитектура на основе Docker для простоты и портативности](#docker-based-architecture-for-simplicity-and-portability)
  * [Установка Bash-скрипта: доступность и безопасность](#bash-script-installation-accessibility-meets-security)
  * [Квантово-безопасное шифрование для конфиденциальности будущего](#quantum-safe-encryption-for-future-proof-privacy)
  * [Автоматизированное обслуживание и обновления](#automated-maintenance-and-updates)
* [Приверженность открытому исходному коду](#the-open-source-commitment)
* [Самостоятельное размещение или управляемое: как сделать правильный выбор](#self-hosted-vs-managed-making-the-right-choice)
  * [Реальность самостоятельного размещения электронной почты](#the-reality-of-self-hosting-email)
  * [Когда следует выбирать нашу управляемую услугу](#when-to-choose-our-managed-service)
* [Начало работы с собственной пересылкой электронной почты](#getting-started-with-self-hosted-forward-email)
  * [Системные требования](#system-requirements)
  * [Этапы установки](#installation-steps)
* [Будущее собственной электронной почты](#the-future-of-self-hosted-email)
* [Заключение: свобода электронной почты для каждого](#conclusion-email-freedom-for-everyone)
* [Ссылки](#references)

## Предисловие {#foreword}

В современном цифровом мире электронная почта остаётся основой нашей онлайн-идентичности и общения. Однако, по мере роста заботы о конфиденциальности, многие пользователи сталкиваются со сложным выбором: удобство в ущерб конфиденциальности или конфиденциальность в ущерб удобству. В Forward Email мы всегда считали, что вам не нужно выбирать между этими двумя вариантами.

Сегодня мы рады объявить о важной вехе в нашем пути: запуске нашего почтового решения с собственным хостингом. Эта функция отражает нашу глубочайшую приверженность принципам открытого исходного кода, принципам конфиденциальности и расширению прав и возможностей пользователей. Благодаря нашему варианту с собственным хостингом мы предоставляем вам полный контроль над вашей электронной почтой.

В этой записи блога рассматривается философия нашего решения, размещаемого на собственном сервере, его техническая реализация и то, почему оно важно для пользователей, которые в своих цифровых коммуникациях отдают приоритет конфиденциальности и праву собственности.

## Почему важно иметь собственную электронную почту {#why-self-hosted-email-matters}

Наше решение для самостоятельного размещения электронной почты — ярчайшее выражение нашей убежденности в том, что настоящая конфиденциальность подразумевает контроль, а контроль начинается с открытого исходного кода. Для пользователей, которые хотят полностью контролировать свои цифровые коммуникации, самостоятельное размещение — это уже не маргинальная идея, а неотъемлемое право. Мы гордимся тем, что поддерживаем эту веру, предлагая полностью открытую и проверяемую платформу, которой вы можете управлять по своим собственным правилам.

### Проблема традиционных почтовых служб {#the-problem-with-traditional-email-services}

Традиционные сервисы электронной почты создают ряд фундаментальных проблем для пользователей, заботящихся о конфиденциальности:

1. **Требования к доверию**: Вы должны быть уверены, что поставщик не будет получать доступ к вашим данным, анализировать их или передавать третьим лицам.
2. **Централизованный контроль**: Ваш доступ может быть отозван в любое время по любой причине.
3. **Уязвимость к слежке**: Централизованные сервисы являются основными целями для слежки.
4. **Ограниченная прозрачность**: Большинство сервисов используют проприетарное программное обеспечение с закрытым исходным кодом.
5. **Привязка к поставщику**: Отказ от этих сервисов может быть сложным или невозможным.

Даже «зацикленные на конфиденциальности» почтовые провайдеры часто не справляются с этой задачей, предоставляя открытый исходный код только для своих frontend-приложений, оставляя свои backend-системы закрытыми и проприетарными. Это создаёт серьёзный кризис доверия: вас просят поверить их обещаниям о конфиденциальности, не имея возможности их проверить.

### Альтернатива с собственным хостингом {#the-self-hosted-alternative}

Самостоятельное размещение электронной почты обеспечивает принципиально иной подход:

1. **Полный контроль**: Вы владеете и контролируете всю инфраструктуру электронной почты.
2. **Проверяемая конфиденциальность**: Вся система прозрачна и поддаётся аудиту.
3. **Не требуется доверия**: Вам не нужно доверять свои сообщения третьей стороне.
4. **Свобода настройки**: Адаптируйте систему к своим конкретным потребностям.
5. **Устойчивость**: Ваш сервис будет работать независимо от решений любой компании.

Как сказал один пользователь: «Размещение собственной электронной почты — это цифровой эквивалент выращивания собственной еды: это требует больше усилий, но я точно знаю, что в ней содержится».

## Наша реализация с собственным хостингом: технический обзор {#our-self-hosted-implementation-technical-overview}

Наше решение для самостоятельного размещения электронной почты основано на тех же принципах конфиденциальности, которые лежат в основе всех наших продуктов. Давайте рассмотрим техническую реализацию, которая делает это возможным.

### Архитектура на основе Docker для простоты и портативности {#docker-based-architecture-for-simplicity-and-portability}

Мы упаковали всю нашу почтовую инфраструктуру с помощью Docker, что упрощает её развертывание практически на любой системе Linux. Такой контейнерный подход даёт несколько ключевых преимуществ:

1. **Упрощённое развертывание**: Одна команда настраивает всю инфраструктуру.
2. **Консистентная среда**: Устраняет проблемы «работает на моём компьютере».
3. **Изолированные компоненты**: Каждая служба работает в своём контейнере для обеспечения безопасности.
4. **Простые обновления**: Простые команды для обновления всего стека.
5. **Минимум зависимостей**: Требуются только Docker и Docker Compose.

Архитектура включает контейнеры для:

* Веб-интерфейс для администрирования
* SMTP-сервер для исходящей почты
* IMAP/POP3-серверы для получения электронной почты
* CalDAV-сервер для календарей
* CardDAV-сервер для контактов
* База данных для хранения настроек
* Redis для кэширования и повышения производительности
* SQLite для безопасного, зашифрованного хранения почтовых ящиков

> \[!NOTE]
> Обязательно ознакомьтесь с нашим [руководство разработчика, размещенное на собственном сервере](https://forwardemail.net/self-hosted)

### Установка скрипта Bash: доступность и безопасность {#bash-script-installation-accessibility-meets-security}

Мы разработали процесс установки таким образом, чтобы он был максимально простым, но при этом соответствовал лучшим практикам безопасности:

```bash
bash <(curl -fsSL https://raw.githubusercontent.com/forwardemail/forwardemail.net/master/self-hosting/setup.sh)
```

Эта единственная команда:

1. Проверка системных требований
2. Помогает вам настроить систему
3. Настраивает записи DNS
4. Настраивает сертификаты TLS
5. Развёртывает контейнеры Docker
6. Выполняет первоначальное усиление безопасности

Тем, кто обеспокоен пересылкой скриптов в bash (а это действительно важно!), мы рекомендуем ознакомиться со скриптом перед его выполнением. Он полностью открыт и доступен для изучения.

### Квантово-безопасное шифрование для конфиденциальности будущего {#quantum-safe-encryption-for-future-proof-privacy}

Как и наш сервис, размещенный на собственном сервере, наше решение, размещенное на собственном сервере, реализует квантово-устойчивое шифрование с использованием алгоритма ChaCha20-Poly1305 для баз данных SQLite. Такой подход защищает ваши данные электронной почты не только от текущих угроз, но и от будущих атак с использованием квантовых вычислений.

Каждый почтовый ящик хранится в собственном зашифрованном файле базы данных SQLite, что обеспечивает полную изоляцию пользователей — существенное преимущество в плане безопасности по сравнению с традиционными подходами к использованию общих баз данных.

### Автоматизированное обслуживание и обновления {#automated-maintenance-and-updates}

Мы встроили комплексные утилиты обслуживания непосредственно в решение для самостоятельного размещения:

1. **Автоматическое резервное копирование**: Резервное копирование всех критически важных данных по расписанию.
2. **Обновление сертификатов**: Автоматизированное управление сертификатами Let's Encrypt.
3. **Обновления системы**: Простая команда для обновления до последней версии.
4. **Мониторинг работоспособности**: Встроенные проверки для обеспечения целостности системы.

Доступ к этим утилитам осуществляется через простое интерактивное меню:

```bash
# script prompt

1. Initial setup
2. Setup Backups
3. Setup Auto Upgrades
4. Renew certificates
5. Restore from Backup
6. Help
7. Exit
```

## Приверженность открытому исходному коду {#the-open-source-commitment}

Наше решение для самостоятельного размещения электронной почты, как и все наши продукты, имеет полностью открытый исходный код — как на стороне клиента, так и на стороне сервера. Это означает:

1. **Полная прозрачность**: Каждая строка кода, обрабатывающая ваши электронные письма, доступна для публичного просмотра.
2. **Вклад сообщества**: Любой может внести улучшения или исправить ошибки.
3. **Безопасность благодаря открытости**: Уязвимости могут быть выявлены и устранены мировым сообществом.
4. **Отсутствие привязки к поставщику**: Вы никогда не зависите от нашей компании.

Вся кодовая база доступна на GitHub по адресу <https://github.com/forwardemail/forwardemail.net>.

## Самостоятельное размещение или управляемое: как сделать правильный выбор {#self-hosted-vs-managed-making-the-right-choice}

Мы гордимся тем, что предлагаем возможность самостоятельного размещения почты, но понимаем, что это не всем подходит. Размещение электронной почты на собственном сервере сопряжено с определённой ответственностью и сложностями:

### Реальность самостоятельного размещения электронной почты {#the-reality-of-self-hosting-email}

#### Технические соображения {#technical-considerations}

* **Управление сервером**: Вам потребуется VPS или выделенный сервер.
* **Конфигурация DNS**: Правильная настройка DNS критически важна для обеспечения доставки.
* **Обновления безопасности**: Важно регулярно устанавливать обновления безопасности.
* **Управление спамом**: Вам потребуется фильтровать спам.
* **Стратегия резервного копирования**: Вы несёте ответственность за надёжное резервное копирование.

#### Инвестиции времени {#time-investment}

* **Первоначальная настройка**: время на настройку, проверку и чтение документации
* **Текущее обслуживание**: периодическое обновление и мониторинг
* **Устранение неполадок**: периодическое решение проблем

#### Финансовые соображения {#financial-considerations}

* **Стоимость сервера**: 5–20 долларов США в месяц за базовый VPS
* **Регистрация домена**: 10–20 долларов США в год
* **Временная ценность**: Ваши временные инвестиции имеют реальную ценность

### Когда следует выбирать нашу управляемую услугу {#when-to-choose-our-managed-service}

Для многих пользователей наш управляемый сервис остается лучшим вариантом:

1. **Удобство**: Мы берем на себя все обслуживание, обновления и мониторинг.
2. **Надежность**: Воспользуйтесь преимуществами нашей развитой инфраструктуры и опыта.
3. **Поддержка**: Обращайтесь за помощью при возникновении проблем.
4. **Доставляемость**: Используйте нашу репутацию в сфере интеллектуальной собственности.
5. **Экономичность**: С учетом временных затрат наши услуги зачастую оказываются более экономичными.

Оба варианта обеспечивают одинаковые преимущества в плане конфиденциальности и прозрачности благодаря открытому исходному коду — разница лишь в том, кто управляет инфраструктурой.

## Начало работы с собственной пересылкой электронной почты {#getting-started-with-self-hosted-forward-email}

Готовы взять под контроль свою инфраструктуру электронной почты? Вот как начать:

### Системные требования {#system-requirements}

* Ubuntu 20.04 LTS или более новая версия (рекомендуется)
* Минимум 1 ГБ ОЗУ (рекомендуется 2 ГБ и более)
* Рекомендуется 20 ГБ дискового пространства
* Доменное имя, которым вы управляете
* Публичный IP-адрес с поддержкой порта 25
* Возможность установки [обратный PTR](https://www.cloudflare.com/learning/dns/dns-records/dns-ptr-record/)
* Поддержка IPv4 и IPv6

> \[!TIP]
> Мы рекомендуем несколько почтовых серверов в <https://forwardemail.net/blog/docs/best-mail-server-providers> (источник в <https://github.com/forwardemail/awesome-mail-server-providers>)

### Шаги установки {#installation-steps}

1. **Запустите скрипт установки**:
```bash
   bash <(curl -fsSL https://raw.githubusercontent.com/forwardemail/forwardemail.net/master/self-hosting/setup.sh)
   ```

2. **Следуйте интерактивным подсказкам**:
* Введите доменное имя
* Настройте учетные данные администратора
* Настройте записи DNS согласно инструкциям
* Выберите предпочтительные параметры конфигурации

3. **Проверка установки**:
После завершения установки вы можете убедиться, что всё работает:
* Проверив состояние контейнера: `docker ps`
* Отправив тестовое электронное письмо
* Войдя в веб-интерфейс

## Будущее самостоятельной электронной почты {#the-future-of-self-hosted-email}

Наше решение с собственным хостингом — это только начало. Мы стремимся постоянно совершенствовать это предложение, предлагая:

1. **Расширенные инструменты администрирования**: Более мощное веб-управление
2. **Дополнительные возможности аутентификации**: Включая поддержку аппаратных ключей безопасности
3. **Расширенный мониторинг**: Более точная информация о состоянии и производительности системы
4. **Развертывание на нескольких серверах**: Варианты конфигураций с высокой доступностью
5. **Улучшения, разработанные сообществом**: Включение вклада пользователей

## Заключение: свобода электронной почты для каждого {#conclusion-email-freedom-for-everyone}

Запуск нашего решения для самостоятельного размещения электронной почты — важный этап на пути к нашей миссии по предоставлению конфиденциальных и прозрачных услуг электронной почты. Независимо от того, выберете ли вы наш управляемый сервис или вариант с самообслуживанием, вы получите выгоду от нашей неизменной приверженности принципам открытого исходного кода и принципам конфиденциальности.

Электронная почта слишком важна, чтобы её можно было контролировать с помощью закрытых, проприетарных систем, которые ставят сбор данных выше конфиденциальности пользователей. С помощью решения Forward Email, размещаемого на собственном сервере, мы с гордостью предлагаем настоящую альтернативу, которая даёт вам полный контроль над вашими цифровыми коммуникациями.

Мы считаем, что конфиденциальность — это не просто функция, а основополагающее право. И благодаря нашей функции самостоятельного размещения электронной почты мы делаем это право более доступным, чем когда-либо прежде.

Готовы взять под контроль свою электронную почту? [Начните сегодня](https://forwardemail.net/self-hosted) или изучите наш [Репозиторий GitHub](https://github.com/forwardemail/forwardemail.net), чтобы узнать больше.

## Ссылки {#references}

\[1] Переслать электронное письмо в репозиторий GitHub: <https://github.com/forwardemail/forwardemail.net>

\[2] Самостоятельно размещенная документация: <https://forwardemail.net/en/self-hosted>

\[3] Техническая реализация конфиденциальности электронной почты: <https://forwardemail.net/en/blog/docs/email-privacy-protection-technical-implementation>

\[4] Почему электронная почта с открытым исходным кодом так важна: <https://forwardemail.net/en/blog/docs/why-open-source-email-security-privacy>